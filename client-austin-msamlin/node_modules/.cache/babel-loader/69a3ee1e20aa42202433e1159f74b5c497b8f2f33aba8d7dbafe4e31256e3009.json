{"ast":null,"code":"import { createAsyncThunk } from '@reduxjs/toolkit';\nimport { addTasks } from './taskSlice';\nconst options = {\n  \"method\": \"GET\",\n  \"headers\": {\n    \"Content-Type\": \"application/x-www-form-urlencoded\",\n    \"Authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOjEsImVtYWlsIjoiYUBnbWFpbC5jb20iLCJpYXQiOjE3MTgwMzU1NDYsImV4cCI6MTcxODEyMTk0Nn0.fXpP2RJHTXSAD2SyFQfhnBlU0NasJgnbESEtN-NxpqE\",\n    \"Content-Length\": \"0\"\n  }\n};\nexport const fetchTasks = createAsyncThunk('tasks/fetchTasks', async (_, {\n  dispatch,\n  rejectWithValue\n}) => {\n  try {\n    const response = await fetch('http://localhost:3333/users/me', options);\n    if (!response.ok) {\n      return rejectWithValue({\n        error: 'Network response was not ok'\n      });\n    }\n    const data = await response.json();\n    dispatch(addTasks(data)); // dispatch the action to add tasks\n    return data;\n  } catch (error) {\n    return rejectWithValue({\n      error: error.message\n    });\n  }\n});","map":{"version":3,"names":["createAsyncThunk","addTasks","options","fetchTasks","_","dispatch","rejectWithValue","response","fetch","ok","error","data","json","message"],"sources":["/Users/anwaukoni/Desktop/Dev/client-austin-msamlin/src/features/task/taskApi.ts"],"sourcesContent":["\nimport { createAsyncThunk } from '@reduxjs/toolkit';\nimport { Task, addTasks } from './taskSlice';\n\nconst options = {\n  \"method\": \"GET\",\n  \"headers\": {\n    \"Content-Type\": \"application/x-www-form-urlencoded\",\n    \"Authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOjEsImVtYWlsIjoiYUBnbWFpbC5jb20iLCJpYXQiOjE3MTgwMzU1NDYsImV4cCI6MTcxODEyMTk0Nn0.fXpP2RJHTXSAD2SyFQfhnBlU0NasJgnbESEtN-NxpqE\",\n    \"Content-Length\": \"0\"\n  }\n};\n\nexport const fetchTasks = createAsyncThunk<Task[], void, { rejectValue: { error: string } }>(\n  'tasks/fetchTasks',\n  async (_, { dispatch, rejectWithValue }) => {\n    try {\n      const response = await fetch('http://localhost:3333/users/me', options);\n      if (!response.ok) {\n        return rejectWithValue({ error: 'Network response was not ok' });\n      }\n      const data: Task[] = await response.json();\n      dispatch(addTasks(data)); // dispatch the action to add tasks\n      return data;\n    } catch (error: any) {\n      return rejectWithValue({ error: error.message });\n    }\n  }\n);"],"mappings":"AACA,SAASA,gBAAgB,QAAQ,kBAAkB;AACnD,SAAeC,QAAQ,QAAQ,aAAa;AAE5C,MAAMC,OAAO,GAAG;EACd,QAAQ,EAAE,KAAK;EACf,SAAS,EAAE;IACT,cAAc,EAAE,mCAAmC;IACnD,eAAe,EAAE,iLAAiL;IAClM,gBAAgB,EAAE;EACpB;AACF,CAAC;AAED,OAAO,MAAMC,UAAU,GAAGH,gBAAgB,CACxC,kBAAkB,EAClB,OAAOI,CAAC,EAAE;EAAEC,QAAQ;EAAEC;AAAgB,CAAC,KAAK;EAC1C,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,gCAAgC,EAAEN,OAAO,CAAC;IACvE,IAAI,CAACK,QAAQ,CAACE,EAAE,EAAE;MAChB,OAAOH,eAAe,CAAC;QAAEI,KAAK,EAAE;MAA8B,CAAC,CAAC;IAClE;IACA,MAAMC,IAAY,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;IAC1CP,QAAQ,CAACJ,QAAQ,CAACU,IAAI,CAAC,CAAC,CAAC,CAAC;IAC1B,OAAOA,IAAI;EACb,CAAC,CAAC,OAAOD,KAAU,EAAE;IACnB,OAAOJ,eAAe,CAAC;MAAEI,KAAK,EAAEA,KAAK,CAACG;IAAQ,CAAC,CAAC;EAClD;AACF,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}